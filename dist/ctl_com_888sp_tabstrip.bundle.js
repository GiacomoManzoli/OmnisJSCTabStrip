!function(t,e){for(var r in e)t[r]=e[r]}(window,function(t){var e={};function r(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(t,e,r,a){void 0===a&&(a=r),Object.defineProperty(t,a,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,a){void 0===a&&(a=r),t[a]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||a(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(1),e)},function(t,e,r){"use strict";var a,i=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.ctrl_com_888sp_tabstrip=void 0;var o=r(2),n={autoupdate:"$autoupdate",canclosetab:"$canclosetab",canaddtab:"$canaddtab",backgroundcolor:"$backgroundcolor",activetabbackgroundcolor:"$activetabbackgroundcolor",tabbackgroundcolor:"$tabbackgroundcolor",tabbordercolor:"$tabbordercolor",tabtextcolor:"$tabtextcolor",activetabtextcolor:"$activetabtextcolor",tabborderradius:"$tabborderradius",tabspacing:"$tabspacing",tabbordersize:"$tabbordersize",tabminwidth:"$tabminwidth",tabmaxwidth:"$tabmaxwidth",tabwidth:"$tabwidth",tabpaddinghorz:"$tabpaddinghorz",tabpaddingvert:"$tabpaddingvert",addtabsymbolcolor:"$addtabsymbolcolor",addtabbackgroundcolor:"$addtabbackgroundcolor"},s=1,c=2,d=3,l=function(t){function e(){var e=t.call(this)||this;return e.autoUpdate=!1,e.init_class_inst(),e}return i(e,t),e.prototype.init_ctrl_inst=function(e,r,a,i){t.prototype.init_ctrl_inst.call(this,e,r,a,i);var o=this.getClientElem(),s=JSON.parse(o.getAttribute("data-props"));for(var c in this.initTabStrip(o),n){var d=s[c];this.setProperty(n[c],d)}return this.update(),!1},e.prototype.updateCtrl=function(t,e,r,a){var i=this.getClientElem();i.style.lineHeight=i.style.height,i.style.textAlign="center";var n=this.getData(),s=new omnis_list(n);if(this.mData=n,n){for(var c=[],d=s.getCurrentRow(),l=d>0?d:1,b=1;b<=s.getRowCount();b++){var u=new o.Tab({id:s.getData("id",b),title:s.getData("title",b)});u.active=b==l,u.activeColor=s.getData("activeColor",b),u.canClose=s.getData("canClose",b),u.backcolorOverride=s.getData("backcolorOverride",b),u.backcolorOverrideActive=s.getData("backcolorOverrideActive",b),u.bordercolorOverride=s.getData("bordercolorOverride",b),u.bordercolorOverrideActive=s.getData("bordercolorOverrideActive",b),u.textcolorOverride=s.getData("textcolorOverride",b),u.textcolorOverrideActive=s.getData("textcolorOverrideActive",b),c.push(u)}this.tabStrip.setTabs(c),this.tabStrip.render()}else i.innerHTML="TABSTRIP"},e.prototype.handleEvent=function(e){if(!this.isEnabled())return!0;switch(e.type){case"click":return!0}t.prototype.handleEvent.call(this,e)},e.prototype.getCanAssign=function(e){return Object.values(n).includes(e.toString())||t.prototype.getCanAssign.call(this,e)},e.prototype.setProperty=function(e,r){if(!this.getCanAssign(e))return!1;if(e)switch(e){case n.backgroundcolor:return this.tabStrip.backgroundColor=this.getTheme().getColorString(r),!0;case n.addtabbackgroundcolor:return this.tabStrip.addTabBackgroundColor=this.getTheme().getColorString(r),!0;case n.addtabsymbolcolor:return this.tabStrip.addTabSymbolColor=this.getTheme().getColorString(r),!0;case n.activetabbackgroundcolor:return this.tabStrip.activeTabBackgroundColor=this.getTheme().getColorString(r),!0;case n.activetabtextcolor:return this.tabStrip.activeTabTextColor=this.getTheme().getColorString(r),!0;case n.tabbackgroundcolor:return this.tabStrip.tabBackgroundColor=this.getTheme().getColorString(r),!0;case n.tabtextcolor:return this.tabStrip.textColor=this.getTheme().getColorString(r),!0;case n.tabbordercolor:return this.tabStrip.tabBorderColor=this.getTheme().getColorString(r),!0;case n.tabbordersize:return this.tabStrip.tabBorderSize=r,!0;case n.tabborderradius:return this.tabStrip.tabBorderRadius=r,!0;case n.tabspacing:return this.tabStrip.tabSpacing=r,!0;case n.tabwidth:return this.tabStrip.tabWidth=r,!0;case n.tabmaxwidth:return this.tabStrip.tabMaxWidth=r,!0;case n.tabminwidth:return this.tabStrip.tabMinWidth=r,!0;case n.tabpaddinghorz:return this.tabStrip.tabPaddingHorz=r,!0;case n.tabpaddingvert:return this.tabStrip.tabPaddingVert=r,!0;case n.canaddtab:return this.tabStrip.canAddTab=r,!0;case n.canclosetab:return this.tabStrip.canCloseTab=r,!0;case n.autoupdate:return this.autoUpdate=r,!0}return t.prototype.setProperty.call(this,e,r)},e.prototype.getProperty=function(e){switch(e){case n.backgroundcolor:return this.tabStrip.backgroundColor;case n.addtabbackgroundcolor:return this.tabStrip.addTabBackgroundColor;case n.addtabsymbolcolor:return this.tabStrip.addTabSymbolColor;case n.activetabbackgroundcolor:return this.tabStrip.activeTabBackgroundColor;case n.activetabtextcolor:return this.tabStrip.activeTabTextColor;case n.tabbackgroundcolor:return this.tabStrip.tabBackgroundColor;case n.tabtextcolor:return this.tabStrip.textColor;case n.tabbordercolor:return this.tabStrip.tabBorderColor;case n.tabbordersize:return this.tabStrip.tabBorderSize;case n.tabborderradius:return this.tabStrip.tabBorderRadius;case n.tabspacing:return this.tabStrip.tabSpacing;case n.tabwidth:return this.tabStrip.tabWidth;case n.tabmaxwidth:return this.tabStrip.tabMaxWidth;case n.tabminwidth:return this.tabStrip.tabMinWidth;case n.tabpaddinghorz:return this.tabStrip.tabPaddingHorz;case n.tabpaddingvert:return this.tabStrip.tabPaddingVert;case n.canaddtab:return this.tabStrip.canAddTab;case n.canclosetab:return this.tabStrip.canCloseTab;case n.autoupdate:return this.autoUpdate}return t.prototype.getProperty.call(this,e)},e.prototype.initTabStrip=function(t){var e=this;this.tabStrip=new o.TabStrip(t),this.tabStrip.addEventListener("tabclick",(function(t,r,a,i){e.autoUpdate&&e.tabStrip.setActive(r),e.canSendEvent(d)&&(e.eventParamsAdd("pTabNum",a+1),e.sendEvent("evTabClick"))})),this.tabStrip.addEventListener("tabclose",(function(t,r,a,i){e.autoUpdate&&e.tabStrip.closeTab(r),e.canSendEvent(s)&&(e.eventParamsAdd("pTabNum",a+1),e.sendEvent("evTabClose"))})),this.tabStrip.addEventListener("tabadd",(function(t){if(e.autoUpdate){var r=e.tabStrip.addTab(),a=new omnis_list(e.mData),i=a.addRow(0,a.getColumnCount());a.setData("id",i,r.id),a.setData("title",i,r.title),a.setCurrentRow(i)}e.canSendEvent(c)&&e.sendEvent("evTabAdd")}))},e}(ctrl_base);e.ctrl_com_888sp_tabstrip=l},function(t,e,r){"use strict";var a=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var a=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],n=0,s=o.length;n<s;n++,i++)a[i]=o[n];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.TabStrip=e.Tab=void 0;var i=function(){function t(t){this.id=0,this.title="",this.active=!1,this.canClose=!0,t.id&&(this.id=t.id),t.title&&(this.title=t.title)}return t.prototype.hasBackcolorOverride=function(t){return t?this.backcolorOverrideActive&&""!=this.backcolorOverrideActive:this.backcolorOverride&&""!=this.backcolorOverride},t.prototype.hasBordercolorOverride=function(t){return t?this.bordercolorOverrideActive&&""!=this.bordercolorOverrideActive:this.bordercolorOverride&&""!=this.bordercolorOverride},t.prototype.hasTextcolorOverride=function(t){return t?this.textcolorOverrideActive&&""!=this.textcolorOverrideActive:this.textcolorOverride&&""!=this.textcolorOverride},t}();e.Tab=i,r(3);var o,n=((o=new i({id:-1,title:""})).action="add",o.active=!1,o),s=function(){function t(t){this.renderedTabs=new Map,this.activeColor="#FF3333",this.canAddTab=!0,this.canCloseTab=!0,this.tabBorderRadius=8,this.tabSpacing=8,this.tabWidth=160,this.tabMinWidth=0,this.tabMaxWidth=0,this.tabPaddingHorz=8,this.tabPaddingVert=8,this.tabBorderColor="rgb(0,0,0)",this.tabBorderSize=0,this.tabs=[],this.container=t,t.classList.add("my-tabstrip"),this.handlers=new Map}return t.prototype.setTabs=function(t){this.tabs=a(t),this.canAddTab&&this.tabs.push(n)},t.prototype.addEventListener=function(t,e){this.handlers.set(t,e)},t.prototype.setActive=function(t){this.tabs.find((function(t){return t.active})).active=!1,this.tabs.find((function(e){return e.id==t})).active=!0,this.render()},t.prototype.closeTab=function(t){this.tabs=this.tabs.filter((function(e){return e.id!==t})),this.tabs.find((function(t){return t.active}))||(this.tabs[0].active=!0),this.render()},t.prototype.addTab=function(){var t=this.tabs.reduce((function(t,e){return Math.max(t,e.id)}),0)+1,e=new i({id:t,title:"Nuovo tab"});return e.active=!1,this.tabs=this.tabs.filter((function(t){return t.id>0})).concat([e,this.addTab?n:void 0]),this.setActive(t),this.render(),e},t.prototype.onTabClick=function(t,e,r,a){var i=t.currentTarget,o=document.createElement("span"),n=Math.max(i.clientWidth,i.clientHeight),s=n/2;o.style.width=o.style.height=n+"px",o.style.left=t.clientX-(i.offsetLeft+s)+"px",o.style.top=t.clientY-(i.offsetTop+s)+"px",o.classList.add("tab-ripple");var c=i.getElementsByClassName("tab-ripple")[0];c&&c.remove(),i.appendChild(o),t.preventDefault(),t.stopPropagation();var d=this.handlers.get("tabclick");d&&d(t,e,r,a)},t.prototype.onTabCloseClick=function(t,e,r,a){t.preventDefault(),t.stopPropagation();var i=this.handlers.get("tabclose");i&&i(t,e,r,a)},t.prototype.onTabAddClick=function(t,e,r,a){t.preventDefault(),t.stopPropagation();var i=this.handlers.get("tabadd");i&&i(t,e,r,a)},t.prototype.render=function(){var t,e=this;""==this.container.innerHTML?((t=document.createElement("ul")).classList.add("my-tabstrip-ul"),t.style.backgroundColor=this.backgroundColor,t.style.color=this.textColor,this.container.appendChild(t)):t=this.container.querySelector("ul");for(var r=this.tabs.length-1;r>=0;r--){var a=this.tabs[r];if(this.renderedTabs.has(a.id)){var i=this.renderedTabs.get(a.id),o=i.tab,s=i.li;o.id!=n.id&&(this.updateItem(s,a,r),this.renderedTabs.set(a.id,{tab:a,li:s}))}else{s=this.createItem(a,r);if(this.renderedTabs.set(a.id,{tab:a,li:s}),0==r)t.insertBefore(s,t.firstChild);else if(r==this.tabs.length-1)t.appendChild(s);else{var c=this.tabs[r+1].id,d=this.renderedTabs.get(c).li;t.insertBefore(s,d)}}}var l=new Set(this.tabs.map((function(t){return t.id})));this.renderedTabs.forEach((function(r){l.has(r.tab.id)||(t.removeChild(r.li),e.renderedTabs.delete(r.tab.id))}))},t.prototype.createItem=function(t,e){return"add"===t.action?this.createAddTab(t,e):this.createTab(t,e)},t.prototype.createAddTab=function(t,e){var r=this,a=document.createElement("li");a.classList.add("my-tabstrip-li"),a.classList.add("action-add"),a.style.backgroundColor=this.addTabBackgroundColor,a.style.color=this.addTabSymbolColor,a.style.marginLeft=this.tabSpacing+"px";var i=document.createElement("a");return i.innerHTML="+",i.addEventListener("click",(function(a){r.onTabAddClick(a,t.id,e,t)})),a.append(i),a},t.prototype.createTab=function(t,e){var r=document.createElement("li");r.classList.add("my-tabstrip-li"),r.style.position="relative",r.style.overflow="hidden",r.style.padding=this.tabPaddingVert+"px "+this.tabPaddingHorz+"px",this.tabWidth>0?r.style.width=this.tabWidth+"px":(r.style.minWidth=this.tabMinWidth+"px",r.style.maxWidth=this.tabMaxWidth+"px"),r.style.backgroundColor=this.tabBackgroundColor,r.style.borderRadius=this.tabBorderRadius+"px",r.style.borderWidth=this.tabBorderSize+"px",this.tabBorderSize>0&&(r.style.borderStyle="solid",r.style.borderColor=this.tabBorderColor);var a=document.createElement("a");return a.classList.add("my-tabstrip-li-a"),r.append(a),this.updateItem(r,t,e),r},t.prototype.updateItem=function(t,e,r){var a=this;r>0&&(t.style.marginLeft=this.tabSpacing+"px"),t.querySelector("a").innerText=e.title,e.active?this.updateItemActive(t,e,r):this.updateItemInactive(t,e,r),t.onclick=function(t){a.onTabClick(t,e.id,r,e)};var i=t.getElementsByClassName("my-tabstrip-li-close-icon")[0];i&&t.removeChild(i),this.canCloseTab&&e.canClose&&t.append(this.createCloseIcon(e,r))},t.prototype.updateItemActive=function(t,e,r){t.classList.add("active"),t.style.backgroundColor=this.activeTabBackgroundColor,t.style.color=this.activeTabTextColor,t.style.borderColor=this.tabBorderColor,e.hasBackcolorOverride(!0)&&(t.style.backgroundColor=e.backcolorOverrideActive),e.hasBordercolorOverride(!0)&&(t.style.borderColor=e.bordercolorOverrideActive),e.hasTextcolorOverride(!0)&&(t.style.color=e.textcolorOverrideActive),e.activeColor&&""!=e.activeColor&&(t.style.boxShadow="inset 0px 3px "+e.activeColor)},t.prototype.updateItemInactive=function(t,e,r){t.classList.remove("active"),t.style.color=this.textColor,t.style.borderColor=this.tabBorderColor,t.style.backgroundColor=this.tabBackgroundColor,e.hasBackcolorOverride(!1)&&(t.style.backgroundColor=e.backcolorOverride),e.hasBordercolorOverride(!1)&&(t.style.borderColor=e.bordercolorOverride),e.hasTextcolorOverride(!1)&&(t.style.color=e.textcolorOverride),t.style.boxShadow=""},t.prototype.createCloseIcon=function(t,e){var r=this,a=document.createElement("span");return a.classList.add("my-tabstrip-li-icon"),a.classList.add("my-tabstrip-li-close-icon"),a.classList.add("active-icon"),a.style.backgroundColor=this.tabBackgroundColor,a.style.color=this.tabBackgroundColor,a.innerHTML="&#x2715;",t.active&&(a.style.color=this.activeTabTextColor,a.style.backgroundColor=this.activeTabBackgroundColor,t.hasBackcolorOverride(!0)&&(a.style.backgroundColor=t.backcolorOverrideActive),t.hasTextcolorOverride(!0)&&(a.style.color=t.textcolorOverrideActive),a.addEventListener("click",(function(a){r.onTabCloseClick(a,t.id,e,t)}))),a},t}();e.TabStrip=s},function(t,e,r){var a=r(4),i=r(5);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};a(i,o);t.exports=i.locals||{}},function(t,e,r){"use strict";var a,i=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},o=function(){var t={};return function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(a){r=null}t[e]=r}return t[e]}}(),n=[];function s(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function c(t,e){for(var r={},a=[],i=0;i<t.length;i++){var o=t[i],c=e.base?o[0]+e.base:o[0],d=r[c]||0,l="".concat(c," ").concat(d);r[c]=d+1;var b=s(l),u={css:o[1],media:o[2],sourceMap:o[3]};-1!==b?(n[b].references++,n[b].updater(u)):n.push({identifier:l,updater:f(u,e),references:1}),a.push(l)}return a}function d(t){var e=document.createElement("style"),a=t.attributes||{};if(void 0===a.nonce){var i=r.nc;i&&(a.nonce=i)}if(Object.keys(a).forEach((function(t){e.setAttribute(t,a[t])})),"function"==typeof t.insert)t.insert(e);else{var n=o(t.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(e)}return e}var l,b=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function u(t,e,r,a){var i=r?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),n=t.childNodes;n[e]&&t.removeChild(n[e]),n.length?t.insertBefore(o,n[e]):t.appendChild(o)}}function p(t,e,r){var a=r.css,i=r.media,o=r.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var h=null,v=0;function f(t,e){var r,a,i;if(e.singleton){var o=v++;r=h||(h=d(e)),a=u.bind(null,r,o,!1),i=u.bind(null,r,o,!0)}else r=d(e),a=p.bind(null,r,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)};return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var r=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var a=0;a<r.length;a++){var i=s(r[a]);n[i].references--}for(var o=c(t,e),d=0;d<r.length;d++){var l=s(r[d]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}r=o}}}},function(t,e,r){(e=r(6)(!1)).push([t.i,"@keyframes tab-ripple {\n    to {\n        transform: scale(4);\n        opacity: 0;\n    }\n}\n\n@keyframes tab-slide-in {\n\tfrom {\n\t\ttransform: translateX(-100%);\n\t\topacity: 0;\n\t}\n\tto {\n\t\ttransform: translateX(0%);\n\t\topacity: 1;\n\t}\n    \t/* from {\n\t\ttransform: scale(0);\n\t\topacity: 0;\n\t}\n\tto {\n\t\ttransform: scale(1);\n\t\topacity: 1;\t\n\t} */\n}\n\nspan.tab-ripple {\n    position: absolute; /* The absolute position we mentioned earlier */\n    border-radius: 50%;\n    transform: scale(0);\n    animation: tab-ripple 400ms linear;\n    background-color: rgba(255, 255, 255, 0.5);\n}\n\n.my-tabstrip-ul {\n    padding: 0;\n    margin: 0;\n    list-style-type: none;\n    height: 100%;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: stretch;\n    line-height: initial;\n    text-align: initial;\n    \n}\n\n.my-tabstrip-li {\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    min-width: 0; /* Serve per far andare overflow ellipsis */\n    animation: tab-slide-in .3s linear;\n    overflow: hidden;\n}\n\n.my-tabstrip-li:hover {\n    filter: brightness(1.05);\n}\n\n.my-tabstrip-li-a {\n    flex: 1;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.my-tabstrip-li-icon {\n    padding: 2px 4px;\n    margin-left: 8px;\n    margin-right: -8px;\n}\n.my-tabstrip-li-icon:hover {\n    filter: brightness(1.05);\n}\n\n.active:hover {\n    filter: none !important;\n}\n\n.action-add {\n    width: initial !important;\n    border: 0;\n    align-items: center;\n}\n\n.action-add a {\n    font-size: 20px;\n    height: 16px;\n    line-height: 16px;\n    padding: 2px;\n    border-radius: 4px;\n}\n",""]),t.exports=e},function(t,e,r){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=function(t,e){var r=t[1]||"",a=t[3];if(!a)return r;if(e&&"function"==typeof btoa){var i=(n=a,s=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[r].concat(o).concat([i]).join("\n")}var n,s,c;return[r].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(r,"}"):r})).join("")},e.i=function(t,r,a){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(a)for(var o=0;o<this.length;o++){var n=this[o][0];null!=n&&(i[n]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);a&&i[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),e.push(c))}},e}}]));